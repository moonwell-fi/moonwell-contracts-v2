// SPDX-License-Identifier: GPL-3.0-or-later
pragma solidity 0.8.19;

import {TransparentUpgradeableProxy, ITransparentUpgradeableProxy} from "@openzeppelin-contracts/contracts/proxy/transparent/TransparentUpgradeableProxy.sol";
import {ProxyAdmin} from "@openzeppelin-contracts/contracts/proxy/transparent/ProxyAdmin.sol";

import "@forge-std/Test.sol";

import {Configs} from "@proposals/Configs.sol";
import {Addresses} from "@proposals/Addresses.sol";
import {mipb00 as mip} from "@proposals/mips/mip-b00/mip-b00.sol";
import {TestProposals} from "@proposals/TestProposals.sol";
import {TemporalGovernor} from "@protocol/governance/TemporalGovernor.sol";

contract CalldataExecute is Test, Configs {
    Addresses addresses;
    bytes execData =
        hex"01000000030d00390311710105ae9d4cb5e5eb5edfaefdb7d924f692d8be92061ea2bdb29aa5e334a3cd3db82f18977264d0ac335ce04b8339f42a6775ddf82da6fb60375917fe0002c5b89df5f1600a745c55ab372329bba2831f6cd1de63f52ad80d08b8d1f81b60554a2710e35771df7ef2e3e54c00335a7185c7ed8e7144aac8ab1f27180df61f00062c474af409f5e63b422dab0eaee2302c9a02a6f3c5d35b3916904ee7bfa963c45c22711431caad5dff7ca9a0abaea70e8fed370b683482ab032319579985cdcb01078b64dad134b0323c62fbe2f87a3ca7ebefe401b0a8d457c7df87b71430e304b03b1975f2399fa156016e2d77010d7e320202865c177c2c5e52eebb830da9862601082c74d8b0ef2cd0ea716e0c9cd44476e37feec21ce74940fac50aceddc6341ea66eb37b04e587c55242fb9ac7b1f4bd036c56e1b9b803552bd3385a9833a2e7c3010a880f6d6673d7e927eba63ac4d1bc0ae7c039e05711f8a2d117a69c8dbb3898985e9231fc75faefd22a249dcc8a90102ef54b85b78cca9913b130c279edc2650e010b96f1eda3a6ed39855e0983ec1558d5e666f86673a3957c0098e2d490f08364a432f958556a2c8621946010fd295098d2f3b8b2310d950d2b1059ec86e9e6d57a010db8ebb49c454104e369e92fcbedb06b665fd80c6ce7fd8dc1d964122672d5893306abb902780fbb099116fe15456cfbc040a21441c2d00fc4fb9e8680bcde49e4010e20bfa276999c834dae31818c927b9fdb1ada10c43de87f4365939933a52468c62b5b6868db643daa6e416a4f20706485fcd8be5023b628c85b5587a43a66635d010fe474cdeaa5b0192da831ec682605eb53ff2085cf6dcc350350ecd519a47b92dd6742c90fed6feaad1062dfa23a387b8bfc4e7cb1a10ce66ea095b685356c67ac0110741e491fd1b2e45b969b11ea43df4c3bddda4086f6f56fca6f709a71d8f8592768bdd1ad2a96904513567d8b8bc28361f0d3c957b75543ab18ed3445793227520011d5b4ba10dfd079357bf50297ead1dda77ef37500dae6552554194b431f4cf3805c75e4fe7829d0beb968dc1b73cc8096b6ab7f90bb412d3fc934c3d2ae17e6ba0012af882d6520d6aa79a93fea322cba3c9e869c671a0e196ad880f006ac32136f7b1970a461203f9ffc1fb47e667a4cf1d61787d660b31ac1c11e5ede159a954efe0064d2c18e0000000200100000000000000000000000003a9249d70dcb4a4e9ef4f3af99a3a130452ec19b0000000000000000c80000000000000000000000008b621804a7637b781e2bbd58e256a591f2df7d51000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000002a000000000000000000000000000000000000000000000000000000000000004c00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000fbb21d0380bee3312b33c4353c8936a0f13ef26c000000000000000000000000703843c3379b52f9ff486c9f5892218d2a065cc8000000000000000000000000fbb21d0380bee3312b33c4353c8936a0f13ef26c000000000000000000000000d9aaec86b65d86f6a7b5b1b0c42ffa531710b6ca000000000000000000000000703843c3379b52f9ff486c9f5892218d2a065cc8000000000000000000000000703843c3379b52f9ff486c9f5892218d2a065cc8000000000000000000000000628ff693426583d9a7fb391e54366292f509d457000000000000000000000000fbb21d0380bee3312b33c4353c8936a0f13ef26c0000000000000000000000004200000000000000000000000000000000000006000000000000000000000000628ff693426583d9a7fb391e54366292f509d457000000000000000000000000628ff693426583d9a7fb391e54366292f509d4570000000000000000000000003bf93770f2d4a794c3d9ebefbaebae2a8f09a5e5000000000000000000000000fbb21d0380bee3312b33c4353c8936a0f13ef26c0000000000000000000000002ae3f1ec7f1f5012cfeab0185bfc7aa3cf0dec220000000000000000000000003bf93770f2d4a794c3d9ebefbaebae2a8f09a5e50000000000000000000000003bf93770f2d4a794c3d9ebefbaebae2a8f09a5e50000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000024000000000000000000000000000000000000000000000000000000000000002800000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000038000000000000000000000000000000000000000000000000000000000000003e0000000000000000000000000000000000000000000000000000000000000046000000000000000000000000000000000000000000000000000000000000004a0000000000000000000000000000000000000000000000000000000000000052000000000000000000000000000000000000000000000000000000000000005a00000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000068000000000000000000000000000000000000000000000000000000000000006c0000000000000000000000000000000000000000000000000000000000000074000000000000000000000000000000000000000000000000000000000000007c000000000000000000000000000000000000000000000000000000000000008200000000000000000000000000000000000000000000000000000000000000004e9c714f2000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004e9c714f20000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000443bcf7ec1000000000000000000000000703843c3379b52f9ff486c9f5892218d2a065cc80000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000703843c3379b52f9ff486c9f5892218d2a065cc800000000000000000000000000000000000000000000000000000000000f4240000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000024a0712d6800000000000000000000000000000000000000000000000000000000000f4240000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044a9059cbb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004e9c714f20000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000443bcf7ec1000000000000000000000000628ff693426583d9a7fb391e54366292f509d4570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b3000000000000000000000000628ff693426583d9a7fb391e54366292f509d457000000000000000000000000000000000000000000000000000000e8d4a51000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000024a0712d68000000000000000000000000000000000000000000000000000000e8d4a51000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044a9059cbb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004e9c714f20000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000443bcf7ec10000000000000000000000003bf93770f2d4a794c3d9ebefbaebae2a8f09a5e50000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044095ea7b30000000000000000000000003bf93770f2d4a794c3d9ebefbaebae2a8f09a5e5000000000000000000000000000000000000000000000000000000e8d4a51000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000024a0712d68000000000000000000000000000000000000000000000000000000e8d4a51000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044a9059cbb0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000";

    function setUp() public {
        address[] memory mips = new address[](1);
        mips[0] = address(new mip());

        // Run all pending proposals before doing e2e tests
        TestProposals proposals = new TestProposals(mips);
        proposals.setUp();
        addresses = proposals.addresses();
    }

    function testSimulateExec() public {
        vm.warp(block.timestamp + 24 hours);
        TemporalGovernor(addresses.getAddress("TEMPORAL_GOVERNOR"))
            .executeProposal(execData);
    }
}
